



## 怎么理解线程安全？  



## 简述一下你对线程池的理解？

到底是什么面试题，
让一个工作了 4 年的精神小伙， 只是去参加了一场技术面试，
就被搞得精神萎靡。 郁郁寡欢！
这一切的背后到底是道德的沦丧， 还是人性的扭曲。
让我们一起揭秘一下这道面试题。
关于， “简述你对线程池的理解”， 看看普通人和高手的回答  

### 普通人
### 高手
关于这个问题， 我会从几个方面来回答。
首先， 线程池本质上是一种池化技术， 而池化技术是一种资源复用的思想， 比较常见的有连接池、 内存池、 对象池。
而线程池里面复用的是线程资源， 它的核心设计目标， 我认为有两个：

减少线程的频繁创建和销毁带来的性能开销， 因为线程创建会涉及到 CPU 上下文切换、 内存分配等工作。
线程池本身会有参数来控制线程创建的数量， 这样就可以避免无休止的创建线程带来的资源利用率过高的问题  起到了资源保护的作用。

其次， 我简单说一下线程池里面的线程复用技术。 因为线程本身并不是一个受控的技术， 也就是说线程的生命周期时由任务运行的状态决定的， 无法人为控制。所以为了实现线程的复用， 线程池里面用到了阻塞队列， 简单来说就是线程池里面的工作线程处于一直运行状态， 它会从阻塞队列中去获取待执行的任务， 一旦队列空了， 那这个工作线程就会被阻塞， 直到下次有新的任务进来。

也就是说， 工作线程是根据任务的情况实现阻塞和唤醒， 从而达到线程复用的目的。  

最后， 线程池里面的资源限制， 是通过几个关键参数来控制的， 分别是核心线程数、 最大线程数。
核心线程数表示默认长期存在的工作线程， 而最大线程数是根据任务的情况动态创建的线程， 主要是提高阻塞队列中任务的处理效率  

![image-20231225164624294](img/image-20231225164624294.png)

以上就是我对这个问题的理解！

### 面试点评
我当时在阅读线程池的源码的时候， 被里面的各种设计思想惊艳到了。

比如动态扩容和缩容的思想、 线程的复用思想、 以及线程回收的方法等等。
我发现越是简单的东西， 反而越不简单。
好的， 本期的普通人 VS 高手面试系列的视频就到这里结束了
更多的面试资料和面试技巧， 可以私信我获取。
我是 Mic， 一个工作了 14 年的 Java 程序员， 咱们下期再见！  

